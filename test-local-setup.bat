@echo off
REM –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ WebRTC-–º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞
REM –ë–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ VPS

echo üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ WebRTC-–º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞
echo.

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º Node.js
where node >nul 2>nul
if %errorlevel% neq 0 (
    echo ‚ùå Node.js –Ω–µ –Ω–∞–π–¥–µ–Ω. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js:
    echo    https://nodejs.org/
    pause
    exit /b 1
)

echo ‚úÖ Node.js –Ω–∞–π–¥–µ–Ω
echo.

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
echo üì¶ –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏...
npm install
if %errorlevel% neq 0 (
    echo ‚ùå –û—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    pause
    exit /b 1
)

echo ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
echo.

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
echo üîß –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é ICE —Å–µ—Ä–≤–µ—Ä–æ–≤...
node -e "const config = require('./config.js'); console.log('ICE —Å–µ—Ä–≤–µ—Ä—ã:', JSON.stringify(config.rtcConfiguration.iceServers, null, 2));"
if %errorlevel% neq 0 (
    echo ‚ùå –û—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    pause
    exit /b 1
)

echo ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
echo.

REM –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
echo üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º WebRTC-–º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä...
echo.
echo üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
echo    - –õ–æ–∫–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å: http://localhost:3000
echo    - TURN —Å–µ—Ä–≤–µ—Ä—ã: Metered.ca (—Ç–µ—Å—Ç–æ–≤—ã–µ)
echo    - STUN —Å–µ—Ä–≤–µ—Ä—ã: Google
echo.
echo ‚ö†Ô∏è  –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –º–æ–±–∏–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –Ω—É–∂–µ–Ω —Ä–µ–∞–ª—å–Ω—ã–π TURN-—Å–µ—Ä–≤–µ—Ä
echo    –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ deploy-turn-server.bat –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è VPS
echo.

echo üåê –û—Ç–∫—Ä—ã–≤–∞–µ–º –±—Ä–∞—É–∑–µ—Ä...
start http://localhost:3000

echo.
echo üéâ WebRTC-–º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –∑–∞–ø—É—â–µ–Ω!
echo    –ù–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
echo.

npm start


